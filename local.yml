---
- hosts: localhost
  connection: local
  become: true

  tasks:
  - name: install packages
    package:
      name:
        - xorg
        - xorg-xinit
        - xorg-server
        - xorg-server-xephyr
        - htop
        - neofetch
        - lightdm
        - lightdm-gtk-greeter
        - sddm
        - qtile
        - xterm
        - picom
        - kitty
        - dconf-editor

  - name: Enabling lightdm
    service:
      name: lightdm
      enabled: yes

  - name: Set graphical target lightdm
    command: systemctl set-default graphical.target